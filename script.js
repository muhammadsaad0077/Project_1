const data = {
    "award": {
        "forms": [
            {
                "date": "June 2022",
                "award_name": "Best Developer Award",
                "description": "\n<p><strong>Best Developer Award</strong>: Honored for exceptional contributions to software development and innovation.</p>\n<ul>\n    <li>Developed a high-performance app that increased user engagement by 40%.</li>\n    <li>Recognized for leadership and creativity in solving complex technical challenges.</li>\n    <li>Awarded during the Global Tech Summit for emerging tech leaders.</li>\n</ul>\n",
                "issuing_org": "Global Tech Summit",
                "order_index": 0
            },
            {
                "date": "October 2021",
                "award_name": "Excellence in AI Research",
                "description": "\n<p><strong>Excellence in AI Research</strong>: Recognized for groundbreaking research in artificial intelligence and machine learning.</p>\n<ul>\n    <li>Developed an innovative AI model for predictive analytics in healthcare.</li>\n    <li>Published research papers in top-tier journals and presented findings at global conferences.</li>\n    <li>The research had a profound impact on the future of AI-driven diagnostics.</li>\n</ul>\n",
                "issuing_org": "International AI Conference",
                "order_index": 0
            }
        ],
        "order_index": 9,
        "title": "Award And Honor"
    },
    "custom_sections": 
        {
            "forms": [
                {
                    "description": "\n<p><strong>Advances in Quantum Computing</strong>: Published in the <em>Journal of Computer Science</em>, May 2022.</p>\n<ul>\n    <li>Explored new algorithms that optimize quantum computing processes for faster computations.</li>\n    <li>Co-authored with leading researchers in the field, focusing on real-world applications of quantum algorithms.</li>\n    <li>The paper was cited by multiple research groups and influenced further studies in quantum cryptography.</li>\n</ul>\n",
                    "order_index": 0,
                    "title": "My Custom Section Field 1"
                },
                {
                    "description": "\n<p><strong>AI-Driven Solutions in Healthcare</strong>: Featured in <em>Medical AI Review</em>, February 2023.</p>\n<ul>\n    <li>Discussed the impact of artificial intelligence on predictive diagnostics and patient care.</li>\n    <li>Highlighted the development of a machine learning model that improved diagnostic accuracy by 30%.</li>\n    <li>The publication contributed to the growing body of research on AI’s role in modern medicine.</li>\n</ul>\n",
                    "order_index": 1,
                    "title": "My Custom Section Field 2"
                }
            ],
            "order_index": 11,
            "title": "CustomSection"
        },
    
    "education": {
        "forms": [
            {
                "degree_title": "B.S. in Computer Science",
                "details": null,
                "end_date": "January 2020",
                "grade": "2.88",
                "institution": "University of Missouri",
                "order_index": 0,
                "start_date": "January 2015"
            },
            {
                "degree_title": "M.S. in Computer Science",
                "details": null,
                "end_date": "January 2022",
                "grade": "3.5",
                "institution": "Stanford University",
                "order_index": 1,
                "start_date": "January 2020"
            }
        ],
        "order_index": 2,
        "title": "Education"
    },
    "experience": {
        "forms": [
            {
                "company_name": "Devsinc",
                "details": "\n            <p><strong>Led the development</strong> of game engines for iconic titles such as <em>Doom</em> and <em>Quake</em>.</p> \n            <ul>\n                <li>Developed the <strong>Doom Engine</strong>, which revolutionized 3D gaming.</li>\n                <li>Co-created <strong>Quake</strong>, one of the first true 3D games, setting the stage for modern gaming engines.</li>\n                <li>Contributed to advancements in real-time 3D graphics and networked multiplayer gaming.</li>\n            </ul>\n            ",
                "end_date": "January 2024",
                "order_index": 0,
                "position": "Lead Programmer",
                "start_date": "January 2020"
            },
            {
                "company_name": "Oculus VR",
                "details": "Worked on optimizing VR technology and creating software for virtual reality systems.",
                "end_date": "January 2024",
                "order_index": 1,
                "position": "Senior Engineer",
                "start_date": "January 2020"
            }
        ],
        "order_index": 1,
        "title": "Experience"
    }, "activitites": {
        "forms": [
            {
                "activity_title": "Devsinc",
                "details": "\n            <p><strong>Led the development</strong> of game engines for iconic titles such as <em>Doom</em> and <em>Quake</em>.</p> \n            <ul>\n                <li>Developed the <strong>Doom Engine</strong>, which revolutionized 3D gaming.</li>\n                <li>Co-created <strong>Quake</strong>, one of the first true 3D games, setting the stage for modern gaming engines.</li>\n                <li>Contributed to advancements in real-time 3D graphics and networked multiplayer gaming.</li>\n            </ul>\n            ",
                "end_date": "January 2024",
                "order_index": 0,
                "position": "Lead Programmer",
                "start_date": "January 2020"
            },
            {
                "activity_title": "Oculus VR",
                "details": "Worked on optimizing VR technology and creating software for virtual reality systems.",
                "end_date": "January 2024",
                "order_index": 1,
                "position": "Senior Engineer",
                "start_date": "January 2020"
            }
        ],
        "order_index": 1,
        "title": "Activities"
    },
    "language": {
        "forms": [
            {
                "language": "English",
                "order_index": 0
            },
            {
                "language": "Spanish",
                "order_index": 1
            },
            {
                "language": "Urdu",
                "order_index": 2
            },
            {
                "language": "Hindi",
                "order_index": 3
            },
            {
                "language": "French",
                "order_index": 4
            },
            {
                "language": "Dutch",
                "order_index": 5
            }
        ],
        "order_index": 7,
        "title": "Language"
    }, "Interesets": {
        "forms": [
            {
                "description": "\n            <p><strong>Led the development</strong> of game engines for iconic titles such as <em>Doom</em> and <em>Quake</em>.</p> \n            <ul>\n                <li>Developed the <strong>Doom Engine</strong>, which revolutionized 3D gaming.</li>\n                <li>Co-created <strong>Quake</strong>, one of the first true 3D games, setting the stage for modern gaming engines.</li>\n                <li>Contributed to advancements in real-time 3D graphics and networked multiplayer gaming.</li>\n            </ul>\n            ",
                "order_index": 0
            },
            {
                "description": "\n            <p><strong>Led the development</strong> of game engines for iconic titles such as <em>Doom</em> and <em>Quake</em>.</p> \n            <ul>\n                <li>Developed the <strong>Doom Engine</strong>, which revolutionized 3D gaming.</li>\n                <li>Co-created <strong>Quake</strong>, one of the first true 3D games, setting the stage for modern gaming engines.</li>\n                <li>Contributed to advancements in real-time 3D graphics and networked multiplayer gaming.</li>\n            </ul>\n            ",
                "order_index": 1
            }
        ],
        "order_index": 7,
        "title": "Interesets"
    },
    "personal_details": {
        "forms": [
            {
                "address": "New York",
                "dob": "11-3-1997",
                "email": "john.carmack@idsoftware.com",
                "linked_in": "www.linkedin.com",
                "name": "John Carmack",
                "designation": "Software Engineer",
                "order_index": 0,
                "phone": "+1 555-1234",
                "photo": null,
                "website": "www.google.com"
            }
        ],
        "order_index": 0,
        "title": "Personal Details"
    },
    "project": {
        "forms": [
            {
                "details": "\n            <p><strong>Next-Gen Game Engine</strong>: A revolutionary game engine designed to harness the full power of modern hardware.</p>\n            <ul>\n                <li>Utilized advanced techniques in real-time rendering and physics simulation.</li>\n                <li>Designed for compatibility with multiple platforms, including VR and AR.</li>\n                <li>Featured a user-friendly interface for game developers.</li>\n            </ul>\n        ",
                "order_index": 0,
                "title": "Next-Gen Game Engine"
            },
            {
                "details": "\n            <p><strong>Virtual Reality Training Simulator</strong>: An immersive training program designed for complex simulations.</p>\n            <ul>\n                <li>Incorporated user feedback to enhance the VR experience.</li>\n                <li>Developed simulations for various training scenarios in industries like healthcare and aviation.</li>\n                <li>Enabled remote training sessions through advanced networked features.</li>\n            </ul>\n        ",
                "order_index": 1,
                "title": "Virtual Reality Training Simulator"
            }
        ],
        "order_index": 6,
        "title": "Projects"
    },
    "publication": {
        "forms": [
            {
                "description": "\n<p><strong>Advances in Quantum Computing</strong>: Published in the <em>Journal of Computer Science</em>, May 2022.</p>\n<ul>\n    <li>Explored new algorithms that optimize quantum computing processes for faster computations.</li>\n    <li>Co-authored with leading researchers in the field, focusing on real-world applications of quantum algorithms.</li>\n    <li>The paper was cited by multiple research groups and influenced further studies in quantum cryptography.</li>\n</ul>\n",
                "order_index": 0,
                "title": "Advances in Quantum Computing"
            },
            {
                "description": "\n<p><strong>AI-Driven Solutions in Healthcare</strong>: Featured in <em>Medical AI Review</em>, February 2023.</p>\n<ul>\n    <li>Discussed the impact of artificial intelligence on predictive diagnostics and patient care.</li>\n    <li>Highlighted the development of a machine learning model that improved diagnostic accuracy by 30%.</li>\n    <li>The publication contributed to the growing body of research on AI’s role in modern medicine.</li>\n</ul>\n",
                "order_index": 0,
                "title": "AI-Driven Solutions in Healthcare"
            }
        ],
        "order_index": 10,
        "title": "Publication"
    },
    "reference": {
        "forms": [
            {
                "company_name": "id Software",
                "email": "john.doe@idsoftware.com",
                "order_index": 0,
                "phone": "+1 555-1111",
                "position": "Technical Lead",
                "reference_name": "John Doe"
            },
            {
                "company_name": "Oculus VR",
                "email": "jane.smith@oculusvr.com",
                "order_index": 1,
                "phone": "+1 555-2222",
                "position": "Project Manager",
                "reference_name": "Jane Smith"
            }
        ],
        "order_index": 5,
        "title": "References"
    },
    "signature": {
        "forms": [
            {
                "order_index": 0,
                "signature_photo_path": "file//:anysignature.png"
            }
        ],
        "order_index": 8,
        "title": "Signature"
    },
    
    
    "skill": {
        "forms": [
            {
                "order_index": 0,
                "skill": "Programming"
            },
            {
                "order_index": 1,
                "skill": "Game Engine Development"
            },
            {
                "order_index": 2,
                "skill": "VR Technologies"
            },
            {
                "order_index": 3,
                "skill": "Android"
            },
            {
                "order_index": 4,
                "skill": "Java"
            },
            {
                "order_index": 5,
                "skill": "Css"
            },
            {
                "order_index": 6,
                "skill": "Html"
            }
        ],
        "order_index": 3,
        "title": "Skills"
    },
    "summary": {
        "forms": [
            {
                "order_index": 0,
                "summary": "Experienced software engineer with a passion for developing groundbreaking video games and innovative virtual reality applications."
            }
        ],
        "order_index": 4,
        "title": "Summary"
    },
    "title": {
        "forms": [
            {
                
            }
        ],
        "order_index": 9,
        "title": "Testing"
    }

}

function sortByOrderIndex(arr) {
    return arr.sort((a, b) => a.order_index - b.order_index);
}

const sections = [
    { section: data.personal_details, id: 'contact-section' },
    { section: data.skill, id: 'skills-section' },
    { section: data.language, id: 'languages-section' },
    { section: data.Interesets, id: 'interests-section' },
    { section: data.summary, title: 'About Me' },
    { section: data.experience, title: 'Work Experience' },
    { section: data.education, title: 'Education' },
    { section: data.project, title: 'Projects' },
    { section: data.publication, title: 'Publications' },
    { section: data.award, title: 'Awards' },
    { section: data.reference, title: 'References' },
    { section: data.signature, title: 'Signature' },
    { section: data.custom_sections, title: 'CustomSection' }
].sort((a, b) => a.section.order_index - b.section.order_index);

// Populating Personal Details
const personalDetails = data.personal_details.forms[0];
const mainContent = document.getElementById("main-content");

const nameHeading = document.createElement('h1');
nameHeading.className = 'person-name'; // Add class for styling
nameHeading.textContent = personalDetails.name; // Set the name

// Create and add the <h3> element for the designation
const designationHeading = document.createElement('h3');
designationHeading.className = 'person-designation'; // Add class for styling
designationHeading.textContent = personalDetails.designation; // Set the designation

// Append both headings to mainContent
mainContent.appendChild(nameHeading);
mainContent.appendChild(designationHeading);

// Populating sections
sections.forEach(({ section, id, title }) => {

    if (!section.forms || section.forms.length === 0 || section.forms.every(obj => Object.keys(obj).length === 0)) {
        // If the section has no data or all objects are empty, skip this section
        return;
    }

    // If the section belongs to the sidebar (contact, skills, languages, etc.)
    if (id) {
        const container = document.getElementById(id);

        if (id === "contact-section") {
            container.innerHTML = `
                <div class="profile-container">
                    <div class="ring"></div>
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1gQJZxQiC2lKQhgQEiLW543AnJAcT2P4MzOVeuDlbgWxlKDf2lnSsL8Q65PbTxVMswPo&usqp=CAU" alt="Profile Image" class="profile-image" />
                </div>
                <h3>Contact</h3>
                <div class="separator"></div>
                <p><span class="material-icons">email</span> <span class="email-contact">${section.forms[0].email}</span></p>
                <p><span class="material-icons">phone</span> ${section.forms[0].phone}</p>
                <p><span class="material-icons">location_on</span> ${section.forms[0].address}</p>
                <p><span class="material-icons">public</span> <a href="${section.forms[0].website}" target="_blank">${section.forms[0].website}</a></p>`;
        } else if (id === "skills-section") {
            container.innerHTML = `<h3>Skills</h3><div class="separator"></div><ul id="skills-list"></ul>`;
            const skillsList = document.getElementById("skills-list");
            sortByOrderIndex(section.forms).forEach(skill => {
                const li = document.createElement("li");
                li.textContent = skill.skill;
                skillsList.appendChild(li);
            });
        } else if (id === "languages-section") {
            container.innerHTML = `<h3>Languages</h3><div class="separator"></div><ul id="languages-list"></ul>`;
            const languagesList = document.getElementById("languages-list");
            sortByOrderIndex(section.forms).forEach(language => {
                const li = document.createElement("li");
                li.textContent = language.language;
                languagesList.appendChild(li);
            });
        } else if (id === "interests-section") {
            container.innerHTML = `<h3>Interests</h3><div class="separator"></div><ul id="interests-list"></ul>`;
            const interestsList = document.getElementById("interests-list");
            section.forms.forEach(interest => {
                const li = document.createElement("li");
                li.innerHTML = interest.description;
                interestsList.appendChild(li);
            });
        }
    } else {
        // For sections in the main content

        const sectionDiv = document.createElement('div');
        sectionDiv.className = "section-start";
        sectionDiv.classList.add(title.toLowerCase().replace(" ", "-"));
        sectionDiv.innerHTML = `<h3 class="right-heading">${title}</h3><div class="separator-black"></div>`;

        if (title === "About Me") {
            sectionDiv.innerHTML += `<p>${section.forms[0].summary}</p>`;
        } else if (title === "Work Experience") {
            section.forms.forEach(exp => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${exp.position}</strong> at ${exp.company_name} (${exp.start_date} - ${exp.end_date})<br><p>${exp.details}</p>`;
                sectionDiv.appendChild(div);
            });
        } else if (title === "CustomSection") {
            sortByOrderIndex(section.forms).forEach(customSection => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${customSection.title}</strong><br><p>${customSection.description}</p>`;
                sectionDiv.appendChild(div);
            });
        }
        
        else if (title === "Education") {
            section.forms.forEach(edu => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${edu.degree_title}</strong>, ${edu.institution} (${edu.start_date} - ${edu.end_date})`;
                sectionDiv.appendChild(div);
            });
        } else if (title === "Projects") {
            section.forms.forEach(project => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${project.title}</strong><br><p>${project.details}</p>`;
                sectionDiv.appendChild(div);
            });
        } else if (title === "Publications") {
            section.forms.forEach(publication => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${publication.title}</strong><br><p>${publication.description}</p>`;
                sectionDiv.appendChild(div);
            });
        } else if (title === "Awards") {
            section.forms.forEach(award => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${award.award_name}</strong> (${award.date})<br><p>${award.description}</p>`;
                sectionDiv.appendChild(div);
            });
        } else if (title === "References") {
            section.forms.forEach(reference => {
                const div = document.createElement("div");
                div.innerHTML = `<strong>${reference.reference_name}</strong> (${reference.company_name}, ${reference.position})<br>Email: ${reference.email}<br>Phone: ${reference.phone}`;
                sectionDiv.appendChild(div);
            });
        }  else if (title === "Signature") {
            sectionDiv.innerHTML += `<img id="signature-image" src="${section.forms[0].signature_photo_path}" alt="Signature">`;
        }

        mainContent.appendChild(sectionDiv);
    }
});

// Update personal details in the summary area
document.getElementById("name").textContent = personalDetails.name;
document.getElementById("job-title").textContent = personalDetails.job_title;
document.getElementById("email").textContent = personalDetails.email;
document.getElementById("phone").textContent = personalDetails.phone;
document.getElementById("address").textContent = personalDetails.address;
document.getElementById("website").textContent = personalDetails.website;

// Populating Skills
const skillsList = document.getElementById("skills-list");
sortByOrderIndex(data.skill.forms).forEach(skill => {
    const li = document.createElement("li");
    li.textContent = skill.skill;
    skillsList.appendChild(li);
});

// Populating Languages
const languagesList = document.getElementById("languages-list");
sortByOrderIndex(data.language.forms).forEach(language => {
    const li = document.createElement("li");
    li.textContent = language.language;
    languagesList.appendChild(li);
});

// Populating Experience
const experienceList = document.getElementById("experience-list");
sortByOrderIndex(data.experience.forms).forEach(exp => {
    const div = document.createElement("div");
    div.innerHTML = `<strong>${exp.position}</strong> at ${exp.company_name} (${exp.start_date} - ${exp.end_date})<br><p>${exp.details}</p>`;
    experienceList.appendChild(div);
});

// Populating Education
const educationList = document.getElementById("education-list");
sortByOrderIndex(data.education.forms).forEach(edu => {
    const div = document.createElement("div");
    div.innerHTML = `<strong>${edu.degree_title}</strong>, ${edu.institution} (${edu.start_date} - ${edu.end_date})`;
    educationList.appendChild(div);
});

// Populating Awards
const awardsList = document.getElementById("awards-list");
sortByOrderIndex(data.award.forms).forEach(award => {
    const div = document.createElement("div");
    div.innerHTML = `<strong>${award.award_name}</strong>, ${award.issuing_org} (${award.date})<br>${award.description}`;
    awardsList.appendChild(div);
});

// Populating Custom Sections
const customSectionList = document.getElementById("custom-section-list");
if (data.custom_sections && data.custom_sections.length > 0) {
    sortByOrderIndex(data.custom_sections[0].forms).forEach(section => {
        const div = document.createElement("div");
        div.innerHTML = `<strong>${section.title}</strong><br>${section.description}`;
        customSectionList.appendChild(div);
    });
}





